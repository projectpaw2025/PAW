<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>로그인 페이지</title>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
  <style>
    /* 스타일 동일 생략... (기존 스타일 유지) */
  </style>
  <!-- ✅ Kakao SDK 추가 -->
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-logo">
      PAW <i class="fas fa-paw"></i>
    </div>
    <div class="decor">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
  <div class="content">
    <a href="#" class="login-link">Login</a>
    <h2>SNS계정으로 간편로그인하기</h2>
    <div class="sns-buttons">
      <div class="login-button google">
        <i class="fab fa-google"></i>
      </div>
      <div class="login-button apple">
        <i class="fab fa-apple"></i>
      </div>
      <div class="login-button kakao">
        K
      </div>
      <div class="login-button naver">
        N
      </div>
      <div class="login-button instagram">
        <i class="fab fa-instagram"></i>
      </div>
    </div>
  </div>

  <!-- ✅ 로그인 스크립트 -->
  <script>
    // 카카오 SDK 초기화
    Kakao.init('9917e1abbf40830145f513dc1121157b'); // <- 여기에 본인의 JavaScript 키 입력
    console.log('Kakao SDK 초기화됨:', Kakao.isInitialized());

    // 카카오 로그인 버튼 클릭 이벤트 연결
    document.querySelector('.login-button.kakao').addEventListener('click', function () {
      Kakao.Auth.login({
        success: function (authObj) {
          console.log('카카오 로그인 성공', authObj);

          // 사용자 정보 가져오기
          Kakao.API.request({
            url: '/v2/user/me',
            success: function (res) {
              console.log('사용자 정보:', res);
              alert(`환영합니다, ${res.kakao_account.profile.nickname}님!`);
            },
            fail: function (error) {
              console.error('사용자 정보 요청 실패:', error);
            }
          });
        },
        fail: function (err) {
          console.error('카카오 로그인 실패:', err);
        }
      });
    });
  </script>
</body>
</html>
